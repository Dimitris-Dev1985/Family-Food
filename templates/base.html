<!DOCTYPE html>
<html lang="el">
<head>

<title>{% block title %}FamilyFood{% endblock %}</title>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Indie+Flower&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Montserrat:700,400|Quicksand:500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fredoka&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
  <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
  <meta name="theme-color" content="#4CAF50">

  <meta name="theme-color" content="#f44336">
  <meta name="mobile-web-app-capable" content="yes">
  <!-- Materialize CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Roboto Font -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

  
<link rel="stylesheet" href="/static/styles1.css">

<link rel="stylesheet" href="/static/styles.css">


  
{% block head %}{% endblock %}

</head>

<body>

{% block content %}{% endblock %}

{% block modals %}{% endblock %} 

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>


<script>
function openRecipePage(id) {
  // π.χ. πάρε από local array ή fetch(`/api/recipe/${id}`)
  const recipeData = recipesArr.find(r => r.id == id); // παράδειγμα με local array
  // render δυναμικά το περιεχόμενο της συνταγής:
  document.getElementById('recipePage').innerHTML = renderRecipeHTML(recipeData);
  document.getElementById('mainPage').style.display = 'none';
  document.getElementById('recipePage').style.display = 'block';

  // Push state για να δουλεύει και το browser back!
  history.pushState({page: 'recipe', id: id}, '', `#recipe-${id}`);
}

// Επιστροφή στο main
function backToMain() {
  document.getElementById('recipePage').style.display = 'none';
  document.getElementById('mainPage').style.display = 'block';
  history.pushState({page: 'main'}, '', '#main');
}

// Handle browser back/forward
window.onpopstate = function(e) {
  if (!e.state || e.state.page === 'main') {
    backToMain();
  } else if (e.state.page === 'recipe') {
    openRecipePage(e.state.id);
  }
};

// Σύνδεση κουμπιού "πίσω"
document.body.addEventListener('click', function(e){
  if (e.target.closest('.icon-btn[data-back]')) {
    backToMain();
  }
});
</script>

{% block scripts %}{% endblock %}

</body>

</html>
