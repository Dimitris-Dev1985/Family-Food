{% extends "base.html" %}
{% block title %}Διατροφή{% endblock %}
{% block content %}


<style>

.onboarding-logo {
  display: block;
  margin: 0 auto 40px;
  width: 72px;
  height: 72px;
  border-radius: 16px;
  object-fit: cover;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}
  
.onboarding-screen {
  max-width: 420px;
  margin: 0;
  padding: 30px 18px 0 18px;
  background: var(--surface, #fffaf5);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}
.onboarding-header {
  margin-bottom: 16px;
  text-align: center;
  position: relative;
}
.onboarding-close-btn {
  position: absolute;
  left: 8px;
  top: 8px;
  background: none;
  border: none;
  font-size: 22px;
  color: #888;
  cursor: pointer;
  z-index: 1;
}
.onboarding-icon.diet {
  width: 48px; height: 48px;
  background: #e4f6e8;
  border-radius: 17px;
  margin: 0 auto 12px auto;
  display: flex; align-items: center; justify-content: center;
}
.onboarding-icon.diet::before {
  content: "🥗";
  font-size: 28px;
  display: block;
}
.onboarding-desc {
  font-size: 1.1em;
  color: #788484;
  margin-bottom: 16px;
}
.diet-form {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 18px;
}
.diet-options {
  display: flex;
  flex-direction: column;
  gap: 11px;
}
.diet-option {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: #fff;
  border: 1.6px solid #dbdbdb;
  border-radius: 16px;
  padding: 13px 15px;
  display: flex;
  align-items: center;
  transition: border 0.15s, background 0.12s;
  cursor: pointer;
  position: relative;
}
.diet-option.selected,
.diet-option input:checked + .diet-label,
.diet-option input:checked ~ .diet-label {

  background: #f6fbf6;
}
.diet-option input[type="radio"] {
  accent-color: #218e46;
  width: 18px; height: 18px;
  margin-right: 12px;
}
.diet-label {
  display: flex;
  flex-direction: column;
  flex: 1;
}
.diet-title {
  font-weight: 500;
  font-size: 1.10em;
  color: #234a26;
}
.diet-desc {
  font-size: 0.96em;
  color: #788484;
}

.diet-icon {
  font-size: 1.75em;
  margin-left: 12px;
  min-width: 32px;
  text-align: right;
  opacity: 0.94;
  transition: filter 0.15s;
}
.diet-option.selected .diet-icon {
  filter: drop-shadow(0 1px 3px #1a6e3830);
}

</style>

<style>
.onboarding-actions-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 15px;
  margin-top: 30px;
}
.onboarding-back-btn {
  background: #f6fbf6;
  color: #218e46;
  font-size: 1.11em;
  border: none;
  border-radius: 11px;
  padding: 12px 20px;
  font-weight: 500;
  box-shadow: 0 2px 8px #1a6e3812;
  cursor: pointer;
  display: flex;
  align-items: center;
  transition: background 0.15s, color 0.12s;
}
.onboarding-back-btn:hover,
.onboarding-back-btn:active {
  background: #e3f2e8;
  color: #1a6e38;
}
.back-arrow {
  font-size: 1.32em;
  margin-right: 6px;
}
.onboarding-next-btn {
  background: #218e46;
  color: #fff;
  font-size: 1.16em;
  border: none;
  border-radius: 13px;
  padding: 13px 70px;
  font-weight: 500;
  box-shadow: 0 3px 17px #1a6e3822;
  transition: background 0.12s;
  cursor: pointer;
}
.onboarding-next-btn:hover,
.onboarding-next-btn:active {
  background: #1a6e38;
}
</style>

<div class="onboarding-screen">
  <div class="onboarding-header">
    <img src="/static/images/logo.png" class="onboarding-logo" alt="Family Food Logo">
    <h2>Ακολουθείς κάποια συγκεκριμένη διατροφή;</h2>
    <p class="onboarding-desc">Αυτό θα μας βοηθήσει να σου προτείνουμε τα κατάλληλα πιάτα ειδικά για σένα!</p>
  </div>

  <form class="diet-form" method="post" autocomplete="off">
    <div class="diet-options">
      <label class="diet-option {% if diet == 'Όλα' or not diet %}selected{% endif %}">
        <input type="radio" name="diet" value="Όλα" {% if diet == 'Όλα' or not diet %}checked{% endif %}>
        <span class="diet-label">
          <span class="diet-title">Όλα</span>
          <span class="diet-desc">Χωρίς περιορισμούς</span>
        </span>
        <span class="diet-icon">🥗</span>
      </label>
      <label class="diet-option {% if diet == 'Vegan' %}selected{% endif %}">
        <input type="radio" name="diet" value="Vegan" {% if diet == 'Vegan' %}checked{% endif %}>
        <span class="diet-label">
          <span class="diet-title">Vegan</span>
          <span class="diet-desc">Χωρίς ζωικά παράγωγα</span>
        </span>
        <span class="diet-icon">🌱</span>
      </label>
      <label class="diet-option {% if diet == 'Pescetarian' %}selected{% endif %}">
        <input type="radio" name="diet" value="Pescetarian" {% if diet == 'Pescetarian' %}checked{% endif %}>
        <span class="diet-label">
          <span class="diet-title">Pescetarian</span>
          <span class="diet-desc">Χωρίς κρέας, μόνο ψάρι</span>
        </span>
        <span class="diet-icon">🐟</span>
      </label>
    </div>

    <div class="onboarding-actions-row">
      <button type="button" class="onboarding-back-btn" onclick="window.location='/welcome'">
        <span class="back-arrow">&#8592;</span>
        Πίσω
      </button>
      <button class="onboarding-next-btn" type="submit">Επόμενο</button>
    </div>
  </form>
</div>

<script>
document.querySelectorAll('.diet-option input[type="radio"]').forEach(function(radio) {
  radio.addEventListener('change', function() {
    document.querySelectorAll('.diet-option').forEach(function(opt){
      opt.classList.remove('selected');
    });
    this.parentElement.classList.add('selected');
  });
});
</script>

{% endblock %}
